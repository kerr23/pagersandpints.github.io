<!DOCTYPE html>
<html lang="en">
<head>
  
    <title>Posts :: Pagers and Pints — DevOps, SRE and Beer</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="description" content=""/>
<meta name="keywords" content="DevOps, SRE, Site Reliability, Pager"/>
<meta name="robots" content="noodp"/>
<link rel="canonical" href="../../../posts/" />


<link rel="stylesheet" href="../../../assets/style.css">

  <link rel="stylesheet" href="../../../assets/green.css">



<link rel="stylesheet" href="../../../style.css">


<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../../../img/apple-touch-icon-144-precomposed.png">

<link rel="shortcut icon" href="../../../img/favicon/green.png">



<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="Posts :: Pagers and Pints — DevOps, SRE and Beer" />
<meta name="twitter:description" content="" />
<meta name="twitter:site" content="/" />
<meta name="twitter:creator" content="" />
<meta name="twitter:image" content="">


<meta property="og:locale" content="en" />
<meta property="og:type" content="website" />
<meta property="og:title" content="Posts :: Pagers and Pints — DevOps, SRE and Beer">
<meta property="og:description" content="" />
<meta property="og:url" content="/posts/" />
<meta property="og:site_name" content="Posts" />
<meta property="og:image" content="">
<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">





  <link href="../../../posts/index.xml" rel="alternate" type="application/rss+xml" title="Pagers and Pints" />









</head>
<body class="">


<div class="container">

  <header class="header">
  <div class="header__inner">
    <div class="header__logo">
      <a href="../../../">
  <div class="logo">
    Pagers and Pints
  </div>
</a>

    </div>
    <div class="menu-trigger">menu</div>
  </div>
  
</header>


  <div class="content">
    
<div class="posts">
  
  
  

  
  <div class="post on-list">
    <h1 class="post-title">
      <a href="../../../posts/create-a-backup-manifest-in-postgresql-with-oid2name/">Create a backup manifest in PostgreSQL with oid2name</a></h1>
    <div class="post-meta">
      <span class="post-date">
        2012-06-07
      </span>
      <span class="post-author">::
        Dave Kerr</span>
    </div>

    
    <span class="post-tags">
      
      #<a href="../../../tags/postgresql/">PostgreSQL</a>&nbsp;
      
    </span>
    

    

    <div class="post-content">
      
      
      oid2name is a nifty little program comes with postgresql an it allows you to take those obscure relfilenode named datafiles at the OS level and map them to database objects.
The only downside to this little tool is that it doesn&rsquo;t exactly work when your database is down since it uses pg_* to figure out this info. So if you&rsquo;re in a situation where you&rsquo;re restoring the database and find out that you&rsquo;re missing a file from the backup - you may want to know what table is lost.
      
      
    </div>

    
    <div>
      <a class="read-more button"
        href="../../../posts/create-a-backup-manifest-in-postgresql-with-oid2name/">Read more →</a>
    </div>
    
  </div>
  
  <div class="post on-list">
    <h1 class="post-title">
      <a href="../../../posts/a-script-to-see-row-counts-and-table-size-in-postgresql/">A script to see row counts and table size in PostgreSQL</a></h1>
    <div class="post-meta">
      <span class="post-date">
        2012-05-13
      </span>
      <span class="post-author">::
        Dave Kerr</span>
    </div>

    
    <span class="post-tags">
      
      #<a href="../../../tags/postgresql/">postgresql</a>&nbsp;
      
    </span>
    

    

    <div class="post-content">
      
      
      
    </div>

    
    <div>
      <a class="read-more button"
        href="../../../posts/a-script-to-see-row-counts-and-table-size-in-postgresql/">Read more →</a>
    </div>
    
  </div>
  
  <div class="post on-list">
    <h1 class="post-title">
      <a href="../../../posts/how-to-fix-stalled-cups-printing/">How To Fix Stalled CUPS Printing</a></h1>
    <div class="post-meta">
      <span class="post-date">
        2012-05-13
      </span>
      <span class="post-author">::
        Dave Kerr</span>
    </div>

    
    <span class="post-tags">
      
      #<a href="../../../tags/linux/">linux</a>&nbsp;
      
    </span>
    

    

    <div class="post-content">
      
      
      
    </div>

    
    <div>
      <a class="read-more button"
        href="../../../posts/how-to-fix-stalled-cups-printing/">Read more →</a>
    </div>
    
  </div>
  
  <div class="post on-list">
    <h1 class="post-title">
      <a href="../../../posts/how-to-reset-sequences-in-postgresql/">How To Reset Sequences in PostgreSQL</a></h1>
    <div class="post-meta">
      <span class="post-date">
        2012-05-13
      </span>
      <span class="post-author">::
        Dave Kerr</span>
    </div>

    
    <span class="post-tags">
      
      #<a href="../../../tags/postgresql/">postgresql</a>&nbsp;
      
    </span>
    

    

    <div class="post-content">
      
      
      I use a lot of &ldquo;serial&rdquo; data type fields, sometimes the nextval of my sequence doesn&rsquo;t reflect the max() of my table. Since I do a lot of moving data around these can get messed up. The basic command that you want to use to reset a sequence is:
select setval(&lsquo;sequence_name&rsquo;, value);  However, the cool thing about Postgres is that can be a query too so I use:
select setval(&lsquo;sequence_name&rsquo;, select max(column_name) from tablename);  So I wrote a little perl script to look through all of the columns that have a default like &ldquo;nextval&rdquo; (which if you look in the database is how a serial column actually looks) and sets the sequence to the max of the value in that table.
      
      
    </div>

    
    <div>
      <a class="read-more button"
        href="../../../posts/how-to-reset-sequences-in-postgresql/">Read more →</a>
    </div>
    
  </div>
  
  <div class="post on-list">
    <h1 class="post-title">
      <a href="../../../posts/using-generate_series-in-postgresql/">Using generate_series() in PostgreSQL</a></h1>
    <div class="post-meta">
      <span class="post-date">
        2012-05-13
      </span>
      <span class="post-author">::
        Dave Kerr</span>
    </div>

    
    <span class="post-tags">
      
      #<a href="../../../tags/postgresql/">postgresql</a>&nbsp;
      
    </span>
    

    

    <div class="post-content">
      
      
      
    </div>

    
    <div>
      <a class="read-more button"
        href="../../../posts/using-generate_series-in-postgresql/">Read more →</a>
    </div>
    
  </div>
  
  <div class="pagination">
  <div class="pagination__buttons">
    
      <span class="button previous">
        <a href="../../../posts/page/2/">
          <span class="button__icon">←</span>
          <span class="button__text">Newer posts</span>
        </a>
      </span>
    
    
      <span class="button next">
        <a href="../../../posts/page/4/">
          <span class="button__text">Older posts</span>
          <span class="button__icon">→</span>
        </a>
      </span>
    
  </div>
</div>

</div>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright">
        <span>© 2019 Powered by <a href="http://gohugo.io">Hugo</a></span>
        <span>:: Theme made by <a href="https://twitter.com/panr">panr</a></span>
      </div>
    
  </div>
</footer>

<script src="../../../assets/main.js"></script>
<script src="../../../assets/prism.js"></script>





  
</div>

</body>
</html>
